# [301. 删除无效的括号](https://leetcode-cn.com/problems/remove-invalid-parentheses/)

# 题目描述：

给你一个由若干括号和字母组成的字符串 `s` ，删除最小数量的无效括号，使得输入的字符串有效。

返回所有可能的结果。答案可以按 **任意顺序** 返回。

 

**示例1 ：**

```
输入：s = "()())()"
输出：["(())()","()()()"]
```

**示例2 ：**

```
输入：s = "(a)())()"
输出：["(a())()","(a)()()"]
```

**示例3 ：**

```
输入：s = ")("
输出：[""]
```



# 解答：

## C++：

```C++

```

## JavaScript：

- 写一个函数，专门判断是否是有效的字符串
- 使用队列，队头出队，`while`循环判断队头字符串是否有效，若有效，放入`res`
- 若无效，则依次删除这个字符串的所有括号，并进行**判重**后将其再入队，以便之后再判断次字符串删了一个括号是否是有效的
- 因为要删除最小数量的无效括号，所以`while`循环中，一旦出现有效字符串，退出循环

```JavaScript
// 判断是否是有效括号字符串的函数
const isValid = s => {
    let count = 0;
    const len = s.length;
    for (let i = 0; i < len; i++) {
        if (s[i] === '(') {
            count++;
        } else if (s[i] === ')') {
            count--;
        }
        // 若count<0，说明右括号在左括号前面出现
        // 那肯定是false了
        if (count < 0) return false;
    }
    return count === 0;
};

const removeInvalidParentheses = s => {
    const res = [];
    const queue = [s];
    const set = new Set();

    while (1) {
        const len = queue.length;
        for (let i = 0; i < len; i++) {
            item = queue.shift();
            if (isValid(item)) {
                // 如果发现有效字符串，放入res
                res.push(item);
            } else if (!res.length) {
                // 遍历这个无效字符串
                for (let j = 0; j < item.length; j++) {
                    if (item[j] === '(' || item[j] === ')') {
                        // 每出现一次括号，就进行判断，若没有重复，就将其再入列
                        // 以便之后判断是否是有效的
                        const str = item.slice(0, j) + item.slice(j + 1);
                        if (!set.has(str)) {
                            queue.push(str);
                            set.add(str);
                        }
                    }
                }
            }
        }
        // 因为要删除最小数量的无效括号
        // 所以一旦出现有效字符串，退出循环
        if (res.length) break;
    }
    return res;
};
```


## C：
```c

```

## Java：
```java

```

## Python：

```python

```

